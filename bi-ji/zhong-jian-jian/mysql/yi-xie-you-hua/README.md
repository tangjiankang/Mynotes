# 一些优化

_\*\*_我们究竟应该如何对MySQL数据库进行优化？下面我就从MySQL对硬件的选择、MySQL的安装、my.cnf的优化、MySQL如何进行架构设计及数据切分等方面来说明这个问题。

**MySQL优化小思想**

**很多时候我们会发现，通过参数设置进行性能优化所带来的性能提升，并不如许多人想象的那样会产生质的飞跃，除非是之前的设置存在严重不合理的情况。我们不能将性能调优完全依托与通过DBA在数据库上线后进行参数调整，而应该在系统设计和开发阶段就尽可能减少性能问题。\(重点在于前期架构合理的设计及开发的程序合理\)**

**MySQL数据库的可扩展架构方案**

如果凭借MySQL的优化任无法顶住压力，这个时候我们就必须考虑MySQL的可扩展性架构了\(有人称为MySQL集群\)它有以下明显的优势：

成本低，很容易通过价格低廉Pc server搭建出一个处理能力非常强大的计算机集群。

不太容易遇到瓶颈，因为很容易通过添加主机来增加处理能力。

单节点故障对系统的整体影响较小。

**目前可行的方案如下：**

（1）MySQL Cluter

其特点为可用性非常高，性能非常好。每份数据至少可在不同主机上存一份副本，且冗余数据拷贝实时同步。但它的维护非常复杂，存在部分Bug，目前还不适合比较核心的线上系统，所以暂时不推荐。

（2）DRBD磁盘网络镜像方案

其特点为软件功能强大，数据可在底层快设备级别跨物理主机镜像，且可根据性能可靠性要求配置不同级别的同步。I/O操作会保持顺序，可满足数据库对数据一致性的苛刻要求。但非分布式文件系统环境无法支持镜像数据同时可见，性能和可靠性两者互相矛盾，无法适用于性能和可靠性要求都比较苛刻的环境，维护成本高于MySQL Replication。另外，DRBD是官方推荐的可用于MySQL的搞可用方案之一，大家可根据实际环境来考虑是否部署。

（3）MySQL Replication

在工作中，此种MySQL搞可用、高扩展性架构也是用得最多的，我也推荐此方案，一主多从、双主多从是生产环境常见的高可用架构方案。

**高可用架构：MySQL\*\***一主多从、MySQL**双主多从、MySQL**读写分离、MySQL**\*\*分布式集群、DRBD+Heartbeat+MySQL**、等各种集群架构

