# shell脚本开发的基本规范及习惯

1.第一行指定脚本解释器 2.脚本开头加版本，版权等信息： 3.在shell脚本中尽量不用中文（不限于注释） 尽量用英文注释，如果非要加中文，请根据自身的客户端对系统进行字符集调整，如：export LANG="zh\_CN.UTF-8",并在脚本中，重新定义字符集设置，和系统保持一致。 4.shell脚本命名应以.sh为扩展名 5.shell脚本应存放在固定的路径下

以下是shell脚本代码书写的良好习惯。 1）成对的符号尽量一次性写出来，然后退格在符号里修改，以防止遗漏 2）中括号`[]` **两端至少要有一个空格** ，双中括号`[[]]`写法也是如此。 3）对于流程控制语句，应一次性将格式写完，再添加内容。

```text
if 条件内容
    then
        内容
fi
```

```text
for
do
        内容
done
```

while和until,case等语句也一样。 4）通过缩进让代码更易读。 5）对于常规变量的字符串定义变量值应加**双引号，并且等号前后不能有空格**，需要强引用的（指所见即所得的字符引用），则用单引号，如果是命令的引用则用`OUTPUT=$(command)` 6）脚本中符号应为英文状态下的符号

**shell脚本变量名及引用变量规范** 1. 全局变量 它的定义应该全部大写，名字对应的语义要尽量清晰，能正确表达变量内容的含义。多一个单词可用"\_"连接 2. 局部变量 也称为普通变量，可以使用驼峰语法，即第2个单词的首字幕大写，如oldboyTraining，或者首字母大写，当然也可以全大写或小写 shell函数中的变量可以使用local方式进行定义，使之只在本函数作用域内有效，防止函数中的变量名称和外部程序中的变量相同，例子：

```text
function TestFunc () {
local i
for((i=0;i<n;i++))
do
    echo 'do something'
done
}
```

1. 变量的引用规范

    在引用变量时，若变量前后都有字符，则用${APACHE\_ERR}；当变量内容为字符串，则用"${APACHE\_ERR}"；当变量内容为整数，则最好直接用$APACHE\_ERR

**shell脚本的代码风格**

